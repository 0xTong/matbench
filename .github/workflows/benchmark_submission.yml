name: Benchmark Submission Workflow
on:
  pull_request:
    types: [opened, labeled]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: Dreamcodeio/pr-has-label-action@master
      id: checkLabel
      with:
        label: new_benchmark
    - name: Run submission check if contains new_benchmark label (${{ steps.checkLabel.outputs.hasLabel }})
      if: ${{ steps.checkLabel.outputs.hasLabel }}
      run: |
        pip install --upgrade pip
        pip install wheel setuptools
        pip install -e . -r requirements.txt
        pip install -r requirements-dev.txt
        python -m unittest scripts/test_submission.py



